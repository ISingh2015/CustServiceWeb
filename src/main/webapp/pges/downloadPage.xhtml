<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets" 
      xmlns:h="http://java.sun.com/jsf/html" 
      xmlns:a4j="http://richfaces.org/a4j"      
      xmlns:r="http://richfaces.org/rich">
    <ui:composition template="/default.xhtml">
        <ui:define name="content">
            <h:form id="downloadfrm">
                <r:panel id = "downloadpanel" bodyClass="rich-laguna-panel-no-header" style="border:none">


                    <h:panelGrid style="padding: 5%" rendered="#{loginBean.userLoggedIn  and !custNavigation.mobileDevice}">
                        <h:outputText escape="false" value="Thank you for selecting the &lt;b&gt; Elegant #{custNavigation.downloadKey=='inv' ?'Inventory': custNavigation.downloadKey=='acc' ? 'Accounting ': 'Payroll '} Windows Setup&lt;/b&gt;. To begin downloading
                                      the setup, click the button below, wait a moment for the download to begin, when prompted, select save to disk and complete downloading the setup, 
                                      Double click the downloaded setup to run and install the elegant inventory module on your computer. 
                                      After installation is completed launch the software and login with your credentials to start using the elegant software module."
                                      style="font-size: 14px" />

                        <h:commandLink id = "downloadbutton" 
                                       action="#{downloadSetup.downloadFile()}" >
                            <h:graphicImage url="#{custNavigation.downloadFileURLImage}"  style="width: 20%;height: auto; border: none;"/>
                            <r:tooltip id="tt18" layout="block" showDelay="2000">
                                <span ><b>Start Download</b></span>
                            </r:tooltip>

                        </h:commandLink>  
                        <h:panelGrid columns="2" style="padding: 2%;font-size: 16px" >
                            <h:outputText value="O/s" />
                            <h:outputText value="Windows Setup File." style="font-weight: bold"/>

                            <h:outputText value="File Name" />
                            <h:outputText value="#{custNavigation.fileStats[0]}" style="font-weight: bold"/>
                            <h:outputText value="File Size" />
                            <h:outputText value="#{custNavigation.fileStats[1]}" style="font-weight: bold"/>
                            <h:outputText value="File Create Date " />               
                            <h:outputText value="#{custNavigation.fileStats[2]}" style="font-weight: bold"/>

                        </h:panelGrid>
                    </h:panelGrid>
                    <h:outputText value="Invalid Download or No File found to download. Please click the HOME button or exit and reload the Application.." rendered="#{!loginBean.userLoggedIn  or custNavigation.mobileDevice}" style="font-size: 16px;color: red"/>
                </r:panel>                
            </h:form>
        </ui:define>
    </ui:composition>
</html>
